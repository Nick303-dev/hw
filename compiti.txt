CREATE DATABASE convegni;
USE convegni;


CREATE TABLE convegni (
    id INT AUTO_INCREMENT PRIMARY KEY,
    nome VARCHAR(255) NOT NULL,
    n_partecipanti INT NOT NULL
);

CREATE TABLE partecipano(
        convegno_id INT NOT NULL,
    partecipante_id INT NOT NULL,
    PRIMARY KEY (convegno_id, partecipante_id),
    FOREIGN KEY (convegno_id) REFERENCES convegni(id),
    FOREIGN KEY (partecipante_id) REFERENCES partecipanti(id) 
)

CREATE TABLE partecipanti (
    id INT AUTO_INCREMENT PRIMARY KEY,
    convegno_id INT NOT NULL,
    nome VARCHAR(100) NOT NULL,
    cognome VARCHAR(100) NOT NULL,
    email VARCHAR(255),
    cf VARCHAR(16),
    FOREIGN KEY (convegno_id)
);
